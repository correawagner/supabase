import Layout from '~/layouts/DefaultGuideLayout'

export const meta = {
  id: 'enable-sso',
  title: 'Enable SSO for your organization',
  description: 'General information about enabling single sign-on (SSO) for your organization',
}

Supabase offers single sign-on (SSO) as a login option to provide additional
account security for your team. This allows company administrators to enforce
the use of an identity provider when logging into Supabase. Moreover, SSO
improves the onboarding and offboarding experience of the company as the
employee only needs a single set of credentials to access 3rd-party
applications or tools—which can also be revoked easily by an administrator.

## Request SSO for your organization

Supabase currently provides SAML SSO. Please contact [Enterprise
Sales](https://supabase.com/contact/enterprise) to have this enabled for your
organization.

## Understanding setup and implications

Accounts signing in via SSO have certain limitations.

### Enabling SSO for your team

1. Organization invites are restricted to members of the company that belong to
   the same identity provider.
2. Every user has an organization created by default. They can create as many
   projects as they want. 
3. An SSO user will not be able to update their password or reset their
   password since their access is managed by the company administrator via the
   identity provider.
4. If an SSO user with the following email of `alice@foocorp.com` attempts to
   sign-in with a GitHub account that uses the same email, a separate Supabase
   account will be created and will not be linked to the SSO user’s account. 
5. An SSO user will not be able to see all organizations / projects created
   under the same identity provider. They will need to be invited to the
   Supabase organization first. Please refer to the [access control
   section](#access-control)
   for more information.

### Disabling SSO for your team

1. You can prevent a user’s account from further access to Supabase by removing
   or disabling their account in your identity provider.
2. You should also remove or downgrade their permissions from any organizations
   inside Supabase.

## Access control

Supabase provides granular access control features in addition to SSO that let
you manage permission across your organizations.

Within a Supabase organization, a member can have one of the following roles:

* Owner
* Administrator
* Developer

A default organization will be created for a user when they first sign-in and
the user will be assigned the “Owner” role. If the user wants to invite others
to collaborate within the organization, they can visit the organization team
settings (`https://app.supabase.com/org/<org-slug>/settings#team`) to send an
invite link to another user’s email. An organization invite will expire after
24 hours.

Invites sent from a SSO account can only be accepted by another SSO account
coming from the same identity provider. This is a security measure that
prevents accidental invites to accounts not managed by your company's
enterprise systems.

Project level invites are not available at this time. A member of the
organization will be able to access all projects under the organization. If you
wish to restrict access to certain projects, please create another organization
to manage this.

### Permissions across roles

| Permission | Owner | Administrator | Developer |
| --- | --- | --- | --- |
| **Organization** |  |  |  |
| Can change organization name | ✔️ |  |  |
| Can delete organization | ✔️ |  |  |
|  |  |  |  |
| **Members** |  |  |  |
| Can add an Owner | ✔️ |  |  |
| Can remove an Owner | ✔️ |  |  |
| Can add an Administrator | ✔️ | ✔️ |  |
| Can remove an Administrator | ✔️ | ✔️ |  |
| Can add a Developer | ✔️ | ✔️ |  |
| Can remove a Developer | ✔️ | ✔️ |  |
| Can revoke an invite | ✔️ | ✔️ |  |
| Can resend an invite | ✔️ | ✔️ |  |
| Can accept an invite[^1] | ✔️ | ✔️ | ✔️ |
|  |  |  |  |
| **Billing** |  |  |  |
| Can read invoices | ✔️ | ✔️ | ✔️ |
| Can read billing email | ✔️ | ✔️ | ✔️ |
| Can change billing email | ✔️ |  |  |
| Can view subscription | ✔️ | ✔️ | ✔️ |
| Can update subscription | ✔️ | ✔️ |  |
| Can read billing address | ✔️ | ✔️ | ✔️ |
| Can update billing address | ✔️ | ✔️ |  |
| Can read tax codes  | ✔️ | ✔️ | ✔️ |
| Can update tax codes  | ✔️ | ✔️ |  |
| Can read payment methods | ✔️ | ✔️ | ✔️ |
| Can update payment methods | ✔️ | ✔️ |  |
|  |  |  |  |
| **Projects** |  |  |  |
| Can view projects | ✔️ | ✔️ | ✔️ |
| Can create a project | ✔️ | ✔️ |  |
| Can delete a project | ✔️ | ✔️ |  |
| Can update a project | ✔️ | ✔️ |  |
| Can pause a project | ✔️ | ✔️ |  |
| Can resume a project | ✔️ | ✔️ |  |
| Can restart a project | ✔️ | ✔️ | ✔️ |
| Can read API anon keys  | ✔️ | ✔️ | ✔️ |
| Can read JWT secret keys | ✔️ | ✔️ | ✔️ |
| Can read JWT secret | ✔️ | ✔️ | ✔️ |
| Can generate new JWT secret  | ✔️ | ✔️ | ✔️ |
| Can update API settings | ✔️ | ✔️ | ✔️ |
|  |  |  |  |
| **Database** |  |  |  |
| Can read tables  | ✔️ | ✔️ | ✔️ |
| Can create / update / delete tables  | ✔️ | ✔️ | ✔️ |
| Can read RLS policies | ✔️ | ✔️ | ✔️ |
| Can read create / update / delete RLS policies | ✔️ | ✔️ | ✔️ |
| Can read database extensions  | ✔️ | ✔️ | ✔️ |
| Can read update database extensions | ✔️ | ✔️ | ✔️ |
| Can read scheduled database backups | ✔️ | ✔️ | ✔️ |
| Can trigger a scheduled database backup | ✔️ | ✔️ | ✔️ |
| Can read PITR database backups | ✔️ | ✔️ | ✔️ |
| Can trigger a PITR database backup | ✔️ | ✔️ | ✔️ |
| Can read database replications | ✔️ | ✔️ | ✔️ |
| Can update database replications | ✔️ | ✔️ | ✔️ |
| Can read database triggers | ✔️ | ✔️ | ✔️ |
| Can create/update/delete database triggers | ✔️ | ✔️ | ✔️ |
| Can read database functions | ✔️ | ✔️ | ✔️ |
| Can create/update/delete database functions | ✔️ | ✔️ | ✔️ |
| Can read database webhooks | ✔️ | ✔️ | ✔️ |
| Can create/update/delete database webhooks | ✔️ | ✔️ | ✔️ |
|  |  |  |  |
| **SQL Editor** |  |  |  |
| Can run a SELECT-based query | ✔️ | ✔️ | ✔️ |
| Can run all other types of queries | ✔️ | ✔️ | ✔️ |
| Can create/update/delete queries | ✔️ | ✔️ | ✔️ |
|  |  |  |  |
| **Storage** |  |  |  |
| Can access storage | ✔️ | ✔️ | ✔️ |
|  |  |  |  |
| **Authentication** |  |  |  |
| Can view users | ✔️ | ✔️ | ✔️ |
| Can remove users | ✔️ | ✔️ | ✔️ |
| Can invite users | ✔️ | ✔️ | ✔️ |
| Can read authentication settings | ✔️ | ✔️ | ✔️ |
| Can update authentication settings | ✔️ | ✔️ | ✔️ |
| Can view authentication logs | ✔️ | ✔️ | ✔️ |
|  |  |  |  |
| **Edge functions** |  |  |  |
| Can view edge functions | ✔️ | ✔️ | ✔️ |
|  |  |  |  |
| **Logs explorer** |  |  |  |
| Can view logs explorer | ✔️ | ✔️ | ✔️ |
| Can create queries in the logs explorer | ✔️ | ✔️ | ✔️ |
|  |  |  |  |
| **Reports** |  |  |  |
| Can view reports | ✔️ | ✔️ | ✔️ |
| Can create / update a report | ✔️ | ✔️ | ✔️ |

[^1]: If the invite was sent from a SSO account, it can only be accepted from
  a user signed in via the same identity provider.

export const Page = ({ children }) => <Layout meta={meta} children={children} />

export default Page
