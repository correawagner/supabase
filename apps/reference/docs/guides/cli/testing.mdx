---
id: testing
title: Testing Database
description: How to test your schema changes locally in the database.
---

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

You can use the Supabase CLI to test your database. Make sure you have [installed the CLI](https://github.com/supabase/cli#getting-started) on your local machine and [linked](https://supabase.com/docs/reference/cli/usage#supabase-link) your Supabase project.

## Creating a test

Create a tests folder inside the supabase folder:

```bash
mkdir -p ./supabase/tests/database
```

Create a new file with a test with the `.sql` extension.

```bash
touch ./supabase/tests/database/hello_world.test.sql
```

## Writing tests

All `sql` files use [pgTAP](https://supabase.com/docs/guides/database/extensions/pgtap) as the test runner.

Letâ€™s write a simple test to check that our `auth.users` table has an ID column. Open `hello_world.test.sql` and add the following code:

```sql
begin;
select plan(1); -- only one statement to run

SELECT has_column(
    'auth',
    'users',
    'id',
    'id should exist'
);

select * from finish();
rollback;
```

## Running tests

To run the test, you can use:

```bash
supabase test db
```

This will produce the following output:

```bash
$ supabase test db
supabase/tests/database/hello_world.test.sql .. ok
All tests successful.
Files=1, Tests=1,  1 wallclock secs ( 0.01 usr  0.00 sys +  0.04 cusr  0.02 csys =  0.07 CPU)
Result: PASS
```

## More resource

- [pgTAP extension](https://supabase.com/docs/guides/database/extensions/pgtap)
- Official [pgTAP documentation](https://pgtap.org/)
