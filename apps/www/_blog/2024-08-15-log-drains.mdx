---
title: Introducing Log Drains
description: Log Drains for exporting product logs is now available under Public Alpha
author: ziinc
image: lw12/day-4/log-drains-og.png
thumb: lw12/day-4/log-drains-thumb.png
launchweek: '12'
categories:
  - launch-week
  - developers
  - platform
tags:
  - launch-week
  - o11y
  - logging
date: '2024-08-15'
toc_depth: 3
---

Today, Supabase is releasing Log Drains for all Team and Enterprise customers in Public Alpha.

With Log Drains, customers can now export the logs generated by their Supabase products to external destinations, such as Datadog or custom HTTP endpoints. Logs generated by all Supabase products such as the Database, Storage, Realtime and Auth are supported.

Beyond providing a single pane of glass inside your existing logging and monitoring system, Log Drains can be used to build additional alerting and observability pipelines. For example, you can ingest Postgres connection logs into your Security Information and Event Management (SIEM) or Intrusion Detection System (IDS) to create custom alerting rules based on events happening in your database.

This feature is also beneficial for supporting extended retention periods to meet compliance requirements.

While we continue to improve logging and alerting within the Supabase platform, Log Drains provide an important escape hatch for these advanced use cases today.

## The Supabase Analytics server

Log Drains is built into [Logflare](https://github.com/Logflare/logflare), the analytics and observability server of the Supabase stack. The architecture of analytics server had to be rewritten to allow for efficient and scalable log dispatching to multiple destinations. This enabled the server to drain logs to destinations without any noticeable lag.

Since Logflare is open source, Log Drains are available during local development or when you are self-hosting Supabase. Instructions for setting up and configuring the Analytics server can be found in the [self-hosting docs](https://supabase.com/docs/reference/self-hosting-analytics/introduction). If you are interested in how we open-sourced Logflare, check out the blog post [here](https://supabase.com/blog/2024/07/14/logflare-open-source).

## Configuring Log Drains

Log drains can be set up in the project settings.

<div>
  <Img alt="Log drains on-boarding page" src="/images/blog/lw12/day-4/log-drains-onboarding.png" />
</div>

The initial supported destinations are:

- Datadog Logs
- HTTP Endpoint

Popular destinations like Datadog are supported out of the box. More detailed setup guides are available within the [log drains documentation](https://supabase.com/docs/guides/platform/log-drains).

<div>
  <Img alt="Datadog Logs drain" src="/images/blog/lw12/day-4/datadog-example.png" />
</div>

For the providers that are not supported out of the box, the HTTP Endpoint drain can be used to send logs to any destination that supports ingestion via HTTP POST requests. For example, you can send logs to an Edge Function, filter, or restructure the logs, and then dispatch them to an external provider. In the following example, we perform a simple `console.log` of the received JSON payload.

<div>
  <Img
    alt="HTTP Endpoint drain to Supabase Edge Functions"
    src="/images/blog/lw12/day-4/edge-function-example.png"
  />
</div>

When self-hosting or during local development, Log Drains are available through the Studio and can be under Project Settings > Log Drains.

## Pricing

Log Drains are available as an project Add-On for all Team and Enterprise customers. Each Log Drain costs $60 per month per project, with a $0.20 per million log events processing fee and a $0.09 per GB egress fee as part of unified egress.

## Roadmap

- We intend to support a wide variety of destinations. Syslog and [Loki](https://github.com/grafana/loki) are currently under development and are expected to be released in the coming weeks. If you would like your favorite tools to be supported as a destination, vote on [this Github discussion](https://github.com/orgs/supabase/discussions/28324)!
- Log sampling to control the volume of logs sent to the drain
- Draining specific product logs
- Sharing Log Drains between multiple projects
